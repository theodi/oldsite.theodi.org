<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>What is a CSV? A case study of CSVs on data.gov.uk | Open Data Institute</title>
<link href="../assets/application-693091b423df059e90189392fffb0ae0.css" media="all" rel="stylesheet" type="text/css">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="../assets/favicon-e0340b5bc5738e53c1b06680529c0963.ico" rel="shortcut icon" type="image/vnd.microsoft.icon">

<!--[if lt IE 9]>
      <script src="../assets/html5shiv-5d1c7196accd7174ed22f320c693b063.js" type="text/javascript"></script>
    <![endif]-->

<!--[if (IE 7)|(IE 8)]>
      <script src="../assets/respond.min-5eec43180e3f6d282f038de07483dc4b.js" type="text/javascript"></script>
    <![endif]-->

<script src="../assets/modernizr.custom-1ecf37d7f9fbb3066a877e31ce79e79e.js" type="text/javascript"></script>

<!--[if lte IE 9]><link href="../assets/ie9-875f0d42a52ff5536404da8fda8d423b.css" media="screen" rel="stylesheet" type="text/css" /><![endif]-->
<!--[if lte IE 8]><link href="../assets/ie8-4a6b9f309032dacb3913ccc2d55bda8b.css" media="screen" rel="stylesheet" type="text/css" /><![endif]-->
<!--[if lte IE 7]><link href="../assets/ie7-d4066942f039a08eed8b62b80cde16cb.css" media="screen" rel="stylesheet" type="text/css" /><![endif]-->
<!--[if lt IE 7]><link href="../assets/ie6-cab152e9612eeec9bd0af579a2231dd5.css" media="screen" rel="stylesheet" type="text/css" /><![endif]-->

<meta property="fb:pages" content="1755416561338416">
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
<link href="../the-status-of-csvs-on-datagovuk.json" rel="alternate" title="json" type="application/json">
<meta content="The Open Data Institute (ODI) equip, connect and inspire people around the world to innovate with data. Co-founded by Sir Tim Berners-Lee and Sir Nigel Shadbolt, the ODI provides events, training, membership and consultancy around open data." name="description">
<meta content="summary_large_image" name="twitter:card">
<meta content="@ODIHQ" name="twitter:site">
<meta content="article" property="og:type">
<meta content="https://raw.github.com/theodi/R-projects/master/csv-stats/graphics/overall-stats.png" property="og:image">
<meta content="What is a CSV? A case study of CSVs on data.gov.uk | Open Data Institute" property="og:title">
<meta content="&lt;p&gt;CSV stands for comma-separated values. It is a simple format for tabular data and relatively easy to process. We analysed more than 20,000 links to CSV files on data.gov.uk &#8211; only around one third turned out to be machine-readable. &lt;/p&gt;" property="og:description">
<meta content="Open Data Institute" property="og:site_name">
<meta content="../the-status-of-csvs-on-datagovuk" property="og:url">
<meta name="govuk:rendering-application" content="Www">
<script type="text/javascript">


  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-34573394-1', {});
















   ga('send', 'pageview');


</script></head>
<body>
<header class="site-header">
<div class="navbar navbar-inverse navbar-static-top">
<div class="container">
<div class="navbar-header">

<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<a class="navbar-brand" href="../"><img alt="The ODI" id="odi-logo" src="../assets/logo-header-dc4ead7a18ea4133873c79502c174638.png"></a>
</div>
<div class="modal fade" id="getLogo" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header">
<h4 class="modal-title" id="myModalLabel">Welcome to the ODI
<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&#215;</button>
</h4>
</div>
<div class="modal-body">
<p>Knowledge for everyone</p>
<p>The ODI helps to unlock the value of open data.</p>
<p>If you want to use our logo, different sizes and types are here: <a href="../brand">../brand</a></p>
<p><a rel="external" href="../uploads/assets/legacy/ODI%2Dlogo%2Dsml.png"><img src="../uploads/assets/legacy/ODI%2Dlogo%2Dsml.png" alt=""></a></p>
<p><a rel="external" href="../uploads/assets/legacy/ODI%2Dlogo%2Dmed.png"><img src="../uploads/assets/legacy/ODI%2Dlogo%2Dmed.png" alt=""></a></p>
<p><a rel="external" href="../uploads/assets/legacy/ODI%2Dlogo%2Dmed.png"><img src="../uploads/assets/legacy/ODI%2Dlogo%2Dlg.png" alt=""></a></p>
<p><a rel="external" href="../uploads/assets/legacy/ODI%2Dlogo%2Dmed.png"><img src="../uploads/assets/legacy/ODI%2Dlogo%2Dxlg.png" alt=""></a></p>
</div>
</div>
</div>
</div>
<ul class="nav navbar-nav navbar-right">
<li><a href="../contact">Contact us</a></li>
<li><a href="../newsletters">Newsletters</a></li>

</ul>

<form class="navbar-form navbar-right" method="get" action="//duckduckgo.com/">
<div class="form-group">
<div class="input-group">
<input value="oldsite.theodi.org" name="sites" type="hidden">
<input class="form-control" placeholder="Search ODI" name="q" type="text">
<input value="Go" class="btn" type="submit">
</div>
</div>
</form>
</div>
</div>
<div class="collapse navbar-collapse">
<div class="navbar navbar-static-top">
<div class="container">
<ul class="nav navbar-nav main-nav">
<li class="dropdown">
<a href="../news">
News &amp; blog
</a>
</li>
<li class="dropdown">
<a href="../get-involved">
Get involved
</a>
</li>
<li class="dropdown">
<a href="../our-network">
Our global network
</a>
</li>
<li class="dropdown">
<a href="../events">
Events
</a>
</li>
<li class="dropdown">
<a href="../our-focus">
Our focus
</a>
</li>
<li class="dropdown">
<a href="../publications">
Publications
</a>
</li>
<li class="dropdown last">
<a href="../about">
About the ODI
</a>
</li>
</ul>
</div>
</div>
</div>
<div class="navbar navbar-inverse navbar-static-top mobile-only">
<div class="container">
<ul class="nav navbar-nav navbar-right">
<li><a href="../contact">Contact us</a></li>
<li><a href="../newsletters">Newsletters</a></li>

</ul>

</div>
</div>
</header>
<div id="oldsite-banner" style="background-color: #ff6700; color: white; text-align: center; padding: 1rem; margin-bottom: 1rem; font-weight: 0.5;">
	<h2>WEBSITE RETIRED</h2>
	<p>This website has been retired and is available for reference and historical purposes only.</p>
	<p><a id="newSiteLink" href="#newSiteLink" style="color: white; text-decoration: underline;">Click here to navigate to the new website.</a></p>
	<p><i>Note: Some pages have not been migrated and you may end up back on this site as a result.</i></p>
	<script>
		(function() {
		var newURL = window.location.protocol + "//theodi.org" + "/" + window.location.pathname + window.location.search;
		document.getElementById("newSiteLink").setAttribute("href",newURL);
		})();
	</script>
</div> 
<div id="wrapper">
<header class="page-title">
<div class="container header-wrap">
<h1>What is a CSV? A case study of CSVs on data.gov.uk</h1>
</div>
</header>
<div class="container">
<div class="row">
<div class="article-main">
<article class="article-body">
<p><strong>CSV stands for <em>comma-separated values</em>. It is a simple format for tabular data and relatively easy to process. We analysed more than 20,000 links to CSV files on data.gov.uk &#8211; only around one third turned out to be machine-readable.</strong> A typical CSV is between 1kb-1mb in size and has around eight columns.</p>
<p>Our analysis of the header names of 7,390 machine-readable CSVs suggests that there are clear patterns. The most common type are spend records, usually split by month and type. Other organisations such as the Crown Prosecution Service also release vast amounts of CSVs. <strong>If publishers embrace standards for CSV data releases, we see a great potential, e.g. for aggregate analyses or new business services.</strong></p>
<h2 id="metadata">Metadata</h2>
<p>In January 2014 we created a file that contains all CSVs published on <a href="http://data.gov.uk">data.gov.uk</a>. We searched for all CSVs and then grabbed and wrote the metadata we needed into a CSV file.</p>
<h4 id="figure1numberofvalidcsvsondatagovuk">Figure 1. Number of valid CSVs on data.gov.uk</h4>
<p><img src="https://raw.github.com/theodi/R-projects/master/csv-stats/graphics/overall-stats.png" alt="overall-stats"></p>
<p>Figure 1 shows how the overall number of 20,692 dwindles to 7,390:</p>
<ol>
<li><p>Almost 4,000 URLs are not CSVs and link to other files, web pages or resolve in some download link. Some of them may be valid, but many links don't work, for example <a href="http://www.roh.nhs.uk/EasySiteWeb/GatewayLink.aspx?alId=1763">this URL</a>.</p></li>
<li><p>Of the URLs that do end in <code>.csv</code>, around 4,000 yield an error. For example, some files that detail the <a href="http://www.crossrail.co.uk/assets/library/document/c/original/crossrail_payments_period_13_2012-13.csv">Crossrail Spend 2013</a> are no longer available. </p></li>
<li>
<p>Even if the CSV exists, it loses some of its value if we cannot read it automatically. Standards are hence important. An example of what did <strong>not</strong> get parsed is below. The first line is the title and the second one is empty (from <a href="http://www.royalwolverhamptonhospitals.nhs.uk/files/mth%206%20september%202013%20(3).csv">here</a>).</p>
<p><img src="https://raw.github.com/theodi/R-projects/master/csv-stats/graphics/miss-header-example.png" alt="example"></p>
</li>
</ol>
<p>There are some limitations. For instance, it is hard to replicate the exact numbers as a website may be temporarily offline. We verified "machine-readable" (and excluded ones) in several ways, but it is likely that we still have false positives and vice versa. </p>
<p>The whole analysis and its code is on <a href="https://github.com/theodi/R-projects/blob/master/csv-stats/csv-meta-analysis-data-gov.R">GitHub</a>.</p>
<h2 id="size">Size</h2>
<p>The vast majority of CSV files is between 1kb and 1mb in size. The largest file on data.gov.uk is at the moment the complete data of the <a href="http://www.landregistry.gov.uk/market-trend-data/public-data/price-paid-data">Land Registry Price Paid Data</a> with 3.2gb. </p>
<h4 id="figure2histogramofthesizeofcsvs">Figure 2. Histogram of the size of CSVs</h4>
<p><img src="https://raw.github.com/theodi/R-projects/master/csv-stats/graphics/histogram-size-of-csvs.png" alt="size-histogram"></p>
<p>After much experimentation we automatically read 7,390 CSV-files. All of them have header names, of course, that can be analysed. For example, a typical CSV file on data.gov.uk has eight headers, i.e. columns (see figure 3).</p>
<p>There is also a peculiar spike at 41 headers per dataset. Some of the datasets have all the information arranged in only one row with many different columns. The prevalent theme, in this case it seems, are various ways of counting payroll staff.</p>
<h4 id="figure3histogramofthenumberofheaderscolumns">Figure 3. Histogram of the number of headers (columns)</h4>
<p><img src="https://raw.github.com/theodi/R-projects/master/csv-stats/graphics/header-length-histogram.png" alt="header-length"></p>
<p>What are the most popular header names? We had to clean up plenty of names because in its raw format, it is <em>messy data</em> such as "amount", " amount", "AMUONT" etc. After some <a href="http://openrefine.org">Open Refine</a> magic, we produced the following rank table. </p>
<table class="table offers table-horizontally-condensed">
<tr>
<td>Expense Type</td>
<td class="pull-right">3,144</td>
</tr>
<tr>
<td>Entity</td>
<td class="pull-right">3,039</td>
</tr>
<tr>
<td>Expense Area</td>
<td class="pull-right">3,029</td>
</tr>
<tr>
<td>Supplier</td>
<td class="pull-right">2,889</td>
</tr>
<tr>
<td>Date</td>
<td class="pull-right">2,820</td>
</tr>
<tr>
<td>Transaction Number</td>
<td class="pull-right">2,791</td>
</tr>
<tr>
<td>Amount</td>
<td class="pull-right">2,734</td>
</tr>
<tr>
<td>Department Family</td>
<td class="pull-right">2,498</td>
</tr>
<tr>
<td>VAT Registration Number</td>
<td class="pull-right">916</td>
</tr>
<tr>
<td>Convictions Percentage</td>
<td class="pull-right">836</td>
</tr>
</table>
<p>The headers may not be representative overall because it only features the machine-readable CSVs. They are frequency counts which also implies that departments that release similar data in individual CSVs (e.g. for each month) are overrepresented. Be that as it may, the header ranking shows how common certain data types are.</p>
<h4 id="figure4cooccurrenceofheadernames">Figure 4. Co-occurrence of header names</h4>
<p><img src="https://raw.github.com/theodi/R-projects/master/csv-stats/co-occurrence/top-headers-coocc.png" alt="header-map"></p>
<p>We took the 50 most popular header names and calculated how often they each appear together. The lines' thickness stands for the frequency of their co-occurence. For example, as we would expect, <em>Payscale Minimum</em> and <em>Payscale Maximum</em> are next to each other. A generic header name such as <em>Unit</em> appears in many files and has therefore stronger links to various others.</p>
<p>The most common cluster is around <em>Expense Type</em> because many files document government spending. A typical "Spend over &#163;25,000" CSV is very likely to have similar headers as listed in the previous table. </p>
<p>We also see an independent cluster around prosecutions. For example, the Crown Prosecution Service releases a lot of individual CSVs, which increases how many times they appear in our header analysis. </p>
<h4 id="figure5cooccurrenceofheadernamesexcludingpopulardatasets">Figure 5. Co-occurrence of header names excluding popular datasets</h4>
<p><img src="https://raw.github.com/theodi/R-projects/master/csv-stats/co-occurrence/top-headers-coocc-excl-popular.png" alt="header-map2"></p>
<p>Figure 5 shows the co-occurrence of headers excluding popular datasets. For example, CSVs with <em>Expense Type</em> no longer appear. Here the 200 most popular header names reveal quite a tangle. The large, overplotted area on the bottom are CSV headers, among others, from the BIS Workforce Management Information.</p>
<p>The big cluster on the right, dubbed the "Death Star", comes from one series of CSVs. The <a href="http://data.gov.uk/dataset/foreign-office-consular-data">Foreign Office Consular</a> publishes "data on assistance provided to British nationals worldwide this includes numbers of incidents handled by UK consulates overseas, including hospitalisations, deaths, detentions, with geographical location". </p>
<p>A similar cluster appears on the top left published by the <a href="http://data.gov.uk/dataset/latest-marine-observational-data">Metoffice</a>. It includes the latest 24 hours marine data for observed weather. Both exemplify why some headers are more related than others: a publisher may release many almost identical files split by time or geography.</p>
<h2 id="whyitmatters">Why it matters</h2>
<p>We appreciate that more and more people recognise CSV as a desirable format for sharing data on the web. However, publishing any tabular data simply with a <code>.csv</code> extension will not bring as much further. The key is to follow a minimal standard. Tools for doing so are emerging, for instance the ODI's <a href="http://csvlint.io/">CSV validator</a>. As Jeni wrote, 2014 may turn out to be the <a href="../blog/2014-the-year-of-csv">Year of the CSV</a>.</p>
<p>Our analysis is far from exhaustive relative to the open data ecosystem; it only looks at data.gov.uk. Even there we have to acknowledge certain limitations such as incorrect headers or temporarily unavailable URLs. What it shows us, however, is that few publishers follow leading practice yet. </p>
<p>By making access and aggregation of data via CSV easier, we enable a huge potential. For example, only an automated analysis may be able to look at the spending across all government departments and bring the often proclaimed transparency. Companies may use CSVs to integrate them into their dashboards or to build services. Even non-technical citizens may be able to use the data more easily. Many user-friendly tools such as <a href="http://datawrapper.de/">Datawrapper</a> have CSV features built-in. </p>
<p>Let's aim for a world with less <a href="http://en.wikipedia.org/wiki/Data_wrangling">data munging</a>.</p>
</article>
</div>
<aside class="article-sidebar listing">
<div class="module module-light module-colour-8">
<a href="../blog/2014-the-year-of-csv">
<h1 class="module-heading">2014: The Year of CSV</h1>
</a>
</div>
</aside>
</div>
</div>
</div>
<footer class="site-footer">
<div class="container">
<div class="row">
<div class="col-md-8 footer-content">
<h1 class="footer-logo"><a href="http://oldsite.theodi.org">Open Data Institute</a></h1>
<p><a href="../contact">Open Data Institute, 65 Clifton Street, London EC2A 4JE</a></p>
<p><a href="../cdn-cgi/l/email-protection#b4dddad2dbf4c0dcd1dbd0dd9adbc6d3"><span class="__cf_email__" data-cfemail="c7aea9a1a887b3afa2a8a3aee9a8b5a0">[email&#160;protected]</span></a> Company <a href="http://opencorporates.com/companies/gb/08030289">08030289</a>
<span>VAT</span><span>143 7796 80</span>
</p>
<p class="license">
<a href="http://creativecommons.org/licenses/by-sa/2.0/uk/deed.en_GB" rel="license">
<img alt="Creative Commons Licence" height="15" src="../assets/cc-a23fe95f04508432c8d97c00b0a36254.png" width="80">
</a>
</p>
</div>
<div class="col-md-4 footer-nav">
<nav><ul class="pull-right list-inline">
<li><a href="http://www.twitter.com/ODIHQ" class=" ">
<img alt="Follow us on Twitter" src="../assets/twitter-a658ecc9fe2aab3308a5fb36adfb9a64.png" title="Follow us on Twitter"></a></li>
<li><a href="https://soundcloud.com/theodi" class=" ">
<img alt="Listen on Soundcloud" src="../assets/soundcloud-3932b3db23c6fb6c45bce20c8016462c.png" title="Listen on Soundcloud"></a></li>
<li><a href="http://www.scribd.com/OpenDataInstitute" class=" ">
<img alt="Read on Scribd" src="../assets/scribd-8afadecb87771fd6f6814e6ea81fb23d.png" title="Read on Scribd"></a></li>
<li><a href="https://github.com/orgs/theodi" class=" ">
<img alt="Follow us on Github" src="../assets/github-914931d2a14f54f3c64caec5c6e68017.png" title="Follow us on Github"></a></li>
<li><a href="http://vimeo.com/theodiuk" class=" ">
<img alt="Watch on Vimeo" src="../assets/vimeo-a865234771edd239032629b694ddaa32.png" title="Watch on Vimeo"></a></li>
<li><a href="http://www.youtube.com/user/OpenDataInstituteUK" class=" ">
<img alt="Watch on Youtube" src="../assets/youtube-cccfa6f837a0acfe0d2fd9492b0d45b3.png" title="Watch on Youtube"></a></li>
<li><a href="http://www.flickr.com/photos/ukodi/" class=" ">
<img alt="Follow us on Flickr" src="../assets/flickr-c81d78a530d046663cfff44293f6f775.png" title="Follow us on Flickr"></a></li>
</ul></nav>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<nav><ul class="pull-right list-inline">
<li class=" "><a href="../terms-of-use" class=" ">Terms of use</a></li>
<li class=" "><a href="../privacy-policy" class=" ">Privacy policy</a></li>
<li class=" "><a href="../cookie-policy" class=" ">Cookie policy</a></li>
</ul></nav>
</div>
</div>
</div>
</footer>
<script data-cfasync="false" src="../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>

  var _pt = ["E6AF1363-3E19-409A-983C-91FFE62C2CBB"];
  (function(d,t){
    var a=d.createElement(t),s=d.getElementsByTagName(t)[0];a.src=location.protocol+'//a1webstrategy.com/track.js';s.parentNode.insertBefore(a,s);
  }(document,'script'));

  </script>
<script type="text/javascript">
      (function (n) {
          var u = window.location.href;
          var p = u.split("/")[0];
          var t = n.createElement("script"), i;
          t.type = "text/javascript";
          t.async = !0;
          t.src = p + "//dashboard.whoisvisiting.com/who.js";
          i = n.getElementsByTagName("script")[0];
          i.parentNode.insertBefore(t, i)
      })(document);

          var whoparam = whoparam || [];
          whoparam.push(["AcNo", "8d5d04b9adc94a34bc385c6f3370594e"]);
          whoparam.push(["SendHit", ""]
      );
  </script>
<script src="../assets/application-4829863ea093de33ae55c9a127d6af6b.js" type="text/javascript"></script>

<!--[if gt IE 7]><!-->
<script src="../assets/bootstrap/bootstrap-collapse-c4cb45620c1346753e2385c125ed4bdd.js" type="text/javascript"></script>
<!--<![endif]-->


<!--[if gt IE 7]><!-->
<script src="../assets/masonry-c617ee0c7d6c602b548ab5e69d50f4fa.js" type="text/javascript"></script>
<script src="../assets/infinitescroll-243a7a50c0c843f1deb394ea98f4d0a6.js" type="text/javascript"></script>
<script src="../assets/background-check-677e6100d9ce594cd30a88f57fc49b48.js" type="text/javascript"></script>
<!--<![endif]-->
</body>
</html>
