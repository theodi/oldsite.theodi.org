{"id":"https://contentapi.theodi.org/summer-showcase-visualising-rail-disruption-methodology.json","web_url":"http://theodi.org/summer-showcase-visualising-rail-disruption-methodology","slug":"summer-showcase-visualising-rail-disruption-methodology","title":"Visualising Rail Disruption: Methodology","format":"article","updated_at":"2016-01-25T10:27:19+00:00","created_at":"2015-12-01T14:28:56+00:00","tag_ids":["page","stories","evidence","uk","rail","trains","summer-showcase","environmental","economic"],"tags":[{"id":"https://contentapi.theodi.org/tags/articles/page.json","web_url":null,"title":"Page","details":{"description":"Page","type":"article"},"content_with_tag":{"id":"https://contentapi.theodi.org/with_tag.json?article=page","web_url":"http://theodi.org/tags/page","slug":"page"}},{"id":"https://contentapi.theodi.org/tags/keywords/stories.json","web_url":null,"title":"Stories","details":{"type":"keyword"},"content_with_tag":{"id":"https://contentapi.theodi.org/with_tag.json?keyword=stories","web_url":"http://theodi.org/tags/stories","slug":"stories"}},{"id":"https://contentapi.theodi.org/tags/keywords/evidence.json","web_url":null,"title":"evidence","details":{"type":"keyword"},"content_with_tag":{"id":"https://contentapi.theodi.org/with_tag.json?keyword=evidence","web_url":"http://theodi.org/tags/evidence","slug":"evidence"}},{"id":"https://contentapi.theodi.org/tags/keywords/uk.json","web_url":null,"title":"UK","details":{"type":"keyword"},"content_with_tag":{"id":"https://contentapi.theodi.org/with_tag.json?keyword=uk","web_url":"http://theodi.org/tags/uk","slug":"uk"}},{"id":"https://contentapi.theodi.org/tags/keywords/rail.json","web_url":null,"title":"rail","details":{"type":"keyword"},"content_with_tag":{"id":"https://contentapi.theodi.org/with_tag.json?keyword=rail","web_url":"http://theodi.org/tags/rail","slug":"rail"}},{"id":"https://contentapi.theodi.org/tags/keywords/trains.json","web_url":null,"title":"trains","details":{"type":"keyword"},"content_with_tag":{"id":"https://contentapi.theodi.org/with_tag.json?keyword=trains","web_url":"http://theodi.org/tags/trains","slug":"trains"}},{"id":"https://contentapi.theodi.org/tags/keywords/summer-showcase.json","web_url":null,"title":"summer showcase","details":{"type":"keyword"},"content_with_tag":{"id":"https://contentapi.theodi.org/with_tag.json?keyword=summer-showcase","web_url":"http://theodi.org/tags/summer-showcase","slug":"summer-showcase"}},{"id":"https://contentapi.theodi.org/tags/keywords/environmental.json","web_url":null,"title":"environmental","details":{"type":"keyword"},"content_with_tag":{"id":"https://contentapi.theodi.org/with_tag.json?keyword=environmental","web_url":"http://theodi.org/tags/environmental","slug":"environmental"}},{"id":"https://contentapi.theodi.org/tags/keywords/economic.json","web_url":null,"title":"economic","details":{"type":"keyword"},"content_with_tag":{"id":"https://contentapi.theodi.org/with_tag.json?keyword=economic","web_url":"http://theodi.org/tags/economic","slug":"economic"}}],"details":{"business_proposition":false,"description":"<p>The Darwin Push Port, which is the primary source for train timetable information and real-time updates on when trains actually arrive and depart, is a real-time feed, with no historical data storage. </p>","excerpt":"<div class=\"row\">\r","language":"en","need_extended_font":false,"alternative_title":"Summer showcase - Visualising rail disruption: Methodology","url":"","content":"<div class=\"row\">\n  <div class=\"col-md-8\">\n\n    <img src=\"http://bd7a65e2cb448908f934-86a50c88e47af9e1fb58ce0672b5a500.r32.cf3.rackcdn.com/uploads/assets/5e/d4/565ed44d1f986a7c86000005/rail_vis_1_copy_7.png\" alt=\"Summer Showcase - Visualising rail disruption\">\n    <p></p>\n    <p>The project produced a web application to allow commuters to explore rail service punctuality. In order to achieve this, a number of steps were carried out:</p>\n      <ol>\n        <li>The Darwin Push Port, which is the primary source for train timetable information and real-time updates on when trains actually arrive and depart, is a live feed, with no historical data storage. This made it necessary to build infrastructure to collect data in real-time and aggregate it to build up a historical data store.</li>\n        <li>Data from NaPTaN and the Darwin Reference data sets were combined (along with some manually researched data) to produce a single reference for stations, including the two different identifiers used by National Rail systems (TIPLOC and CRS), station names and their geographical coordinates.</li>\n        <li>A program was developed to aggregate the real-time data collected each day, to group together the same trains on each day they run, and generate the statistics over time to be presented in the web application.</li>\n        <li>Finally the web application, based around a map from OpenStreetMap, was built to present this collected data.</li>\n      </ol>\n    <h3>Analysing service punctuality: methodology</h3>\n    <p>Fasteroute, working with the ODI, first assembled a list of cities that were both regional centres and commuter hubs. The list of commuter cities and stations monitored in this analysis was created using the Office of Rail Regulation list of busiest rail stations in the UK, identifying destinations with large volumes of commuters. All arrivals at main stations in each city were counted: any difference with the scheduled arrival time was noted, and a mean average was calculated. Where multiple major main stations in a city are positioned on the same rail line, as is the case for Blackfriars and St Pancras on the City Thameslink line in London, any delay of a service visiting those stations was recorded at each, but to avoid counting the delay more than once, the average delay was used.</p>\n\n    <p>The aggregated data used to count the volume of trains arriving at each main train station (on time, under five minutes, 10 minutes, 15 minutes, and 30 minutes or cancelled) is presented in 30-minute increments: 07:01–07:30, 07:31–08:00, 08:01–08:30, 08:31–09:00, 09:01–09:30, 09:31–10:00.</p>\n\n    <p>The number of trains in each 30-minute period was counted and an average delay in minutes was calculated based on all delays of all services arrive in that timeframe.</p>\n\n    <h3>Working openly: see how Fasteroute arrived at these findings</h3>\n    <p>Due to the newness of the Darwin Push Port as a data feed, and the resulting limited availability of open source software to assist working with it, Fasteroute built a number of different tools as part of this project, all of which have been released as open source software under the Apache license. These components are as follows:</p>\n    <ul>\n      <li><a href=\"https://github.com/fasteroute/national-rail-stations\">National Rail stations</a> This project consists of a JSON file containing details of all National Rail stations in the UK, including their CRS codes, TIPLOC codes, managing Train Operating Companies, names, latitudes and longitudes. This data has been created by combining that available from the Darwin Reference data set, NaPTaN and some manual research to fill in the final few gaps.</li>\n\n      <li><a href=\"https://github.com/fasteroute/darwin-gateway\">Darwin Gateway</a> This Java program acts as a proxy to the Darwin Push Port, receiving messages from it in real-time as well as pulling in snapshot files where necessary to ensure all data is present, and translating the messages from XML to JSON for easier consumption in downstream applications.</li>\n\n      <li><a href=\"https://github.com/fasteroute/darwin-db\">Darwin DB</a> This is a Python program which listens to the Darwin Push Port (proxied by darwin-gateway), and records all train schedules and the updates and forecasts they receive to a PostgreSQL database for persistent storage.</li>\n\n      <li><a href=\"https://github.com/fasteroute/delay-explorer-aggregator\">Delay Explorer Aggregator</a> This is a Python program which generates the aggregate statistics for timetabled trains, routes and stations presented in the train-explorer web application based on the data recorded each day by darwin-db.</li>\n\n      <li><a href=\"https://github.com/fasteroute/delay-explorer-api\">Delay Explorer API</a> This component provides a REST API for access to the data provided by the train-explorer-aggregator and national-rail-stations components. It is implemented partially in Python and partially in Go.</li>\n\n      <li><a href=\"https://github.com/fasteroute/delay-explorer-web\">Delay Explorer, web version</a> The web application frontend that, in conjunction with train-explorer-api, provides the user interface of the project, allowing non-technical users to explore the data collected and understand the different delay performances of the trains they travel on. It is implemented in ReactJS making use of Leaflet (and OpenStreetMap) for the map component.</li>\n\n    </ul>\n\n\n    <div>\n      <a href=\"http://theodi.org/summer-showcase-visualising-rail-disruption-collaboration\" title=\"Next page\"><img class=\"pull-right\" src=\"http://bd7a65e2cb448908f934-86a50c88e47af9e1fb58ce0672b5a500.r32.cf3.rackcdn.com/uploads/assets/16/43/56164300f362be08b400000f/summer_showcase_next_but.svg\" alt=\"\"></a>\n      <a href=\"http://theodi.org/summer-showcase-visualising-rail-disruption-about-the-data\" title=\"Previous page\"><img class=\"pull-left\" src=\"http://bd7a65e2cb448908f934-86a50c88e47af9e1fb58ce0672b5a500.r32.cf3.rackcdn.com/uploads/assets/29/f4/5629f4fe1f986a081e000033/previous.svg\" alt=\"\"></a>\n\n    </div>\n\n    <p></p>\n  </div>\n\n  <div class=\"pull-left col-md-3\">\n    <div class=\"blog-box\">\n    <a class=\"story-link\" href=\"http://theodi.org/summer-showcase-visualising-rail-disruption\">About</a>\n    </div><div class=\"blog-box\">\n    <a class=\"story-link\" href=\"http://theodi.org/summer-showcase-visualising-rail-disruption-background\">Background</a>\n    </div>\n    <div class=\"blog-box\">\n    <a class=\"story-link\" href=\"http://theodi.org/summer-showcase-visualising-rail-disruption-about-the-data\">About the data</a>\n    </div>\n    <div class=\"blog-box-opacity\">\n    <a class=\"story-link\" href=\"http://theodi.org/summer-showcase-visualising-rail-disruption-methodology\">Methodology</a>\n    </div>\n    <div class=\"blog-box\">\n    <a class=\"story-link\" href=\"http://theodi.org/summer-showcase-visualising-rail-disruption-collaboration\">Collaboration</a>\n    </div>\n    <div class=\"blog-box\">\n    <a class=\"story-link\" href=\"http://theodi.org/summer-showcase-visualising-rail-disruption-what-next\">What next?</a>\n    </div>\n\n  </div>\n</div>","media_enquiries_name":"","media_enquiries_email":"","media_enquiries_telephone":"","organizations":[],"author":{"name":"The ODI","slug":"the-odi","state":"published","web_url":"http://theodi.org/the-odi","tag_ids":["writers"]}},"related_external_links":[],"related":[],"organizations":[],"author":{"name":"The ODI","slug":"the-odi","state":"published","web_url":"http://theodi.org/the-odi","tag_ids":["writers"]}}